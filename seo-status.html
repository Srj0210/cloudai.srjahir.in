<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CloudAI SEO Monitor | SRJahir Technologies ⚡</title>

  <!-- Theme -->
  <style>
    :root {
      --bg: #0d1117;
      --panel: #161b22;
      --text: #e6edf3;
      --accent: #00b7ff;
      --muted: #8b949e;
      --success: #00ff9c;
      --error: #ff4d4d;
    }

    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: "Inter", sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }

    h1 {
      color: var(--accent);
      text-align: center;
      margin-bottom: 10px;
    }

    .status-container {
      background: var(--panel);
      padding: 20px;
      border-radius: 14px;
      width: 100%;
      max-width: 600px;
      box-shadow: 0 0 15px rgba(0,183,255,0.25);
      margin-bottom: 25px;
    }

    .status-item {
      display: flex;
      justify-content: space-between;
      margin: 8px 0;
      border-bottom: 1px solid #222;
      padding-bottom: 6px;
    }

    .status-item span {
      font-weight: 500;
    }

    .ok { color: var(--success); }
    .bad { color: var(--error); }

    .score {
      text-align: center;
      font-size: 20px;
      margin-top: 10px;
      color: var(--accent);
      font-weight: bold;
    }

    canvas {
      margin-top: 20px;
      background: var(--panel);
      border-radius: 14px;
      padding: 15px;
      box-shadow: 0 0 10px rgba(0,183,255,0.2);
    }

    .timestamp {
      font-size: 13px;
      color: var(--muted);
      margin-top: 10px;
      text-align: center;
    }

    footer {
      text-align: center;
      margin-top: 25px;
      font-size: 13px;
      color: var(--muted);
    }
  </style>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

  <h1>CloudAI SEO Monitor ⚡</h1>

  <div class="status-container" id="statusBox">
    <div class="status-item"><span>Sitemap:</span> <strong id="sitemap-status">⏳ Checking...</strong></div>
    <div class="status-item"><span>Robots.txt:</span> <strong id="robots-status">⏳ Checking...</strong></div>
    <div class="status-item"><span>Meta Tags:</span> <strong id="meta-status">⏳ Checking...</strong></div>
    <div class="status-item"><span>IndexNow Ping:</span> <strong id="indexnow-status">⏳ Checking...</strong></div>
    <div class="score" id="seo-score">SEO Health Score: --%</div>
  </div>

  <canvas id="seoChart" width="400" height="200"></canvas>
  <div class="timestamp" id="lastUpdate">Last checked: --</div>

  <footer>
    © 2025 SRJahir Technologies — CloudAI SEO Monitor v3
  </footer>

  <script>
    const endpoints = {
      sitemap: "https://cloudai.srjahir.in/sitemap.xml",
      robots: "https://cloudai.srjahir.in/robots.txt",
      indexnow: "https://api.indexnow.org/indexnow?url=https://cloudai.srjahir.in/&key=da18c5cb-26d0-4045-bd3c-8cd139ba2d1d"
    };

    const statuses = {
      sitemap: false,
      robots: false,
      meta: false,
      indexnow: false
    };

    async function checkSEO() {
      // Sitemap
      try {
        const sitemap = await fetch(endpoints.sitemap);
        statuses.sitemap = sitemap.ok;
        document.getElementById("sitemap-status").innerHTML = sitemap.ok ? "✅ OK" : "❌ Missing";
        document.getElementById("sitemap-status").className = sitemap.ok ? "ok" : "bad";
      } catch { fail("sitemap"); }

      // Robots.txt
      try {
        const robots = await fetch(endpoints.robots);
        statuses.robots = robots.ok;
        document.getElementById("robots-status").innerHTML = robots.ok ? "✅ OK" : "❌ Missing";
        document.getElementById("robots-status").className = robots.ok ? "ok" : "bad";
      } catch { fail("robots"); }

      // Meta
      const meta = document.querySelector("meta[name='description']");
      statuses.meta = !!meta;
      document.getElementById("meta-status").innerHTML = meta ? "✅ Present" : "❌ Missing";
      document.getElementById("meta-status").className = meta ? "ok" : "bad";

      // IndexNow
      try {
        const indexRes = await fetch(endpoints.indexnow);
        statuses.indexnow = indexRes.ok;
        document.getElementById("indexnow-status").innerHTML = indexRes.ok ? "✅ Success" : "❌ Failed";
        document.getElementById("indexnow-status").className = indexRes.ok ? "ok" : "bad";
      } catch { fail("indexnow"); }

      updateScore();
    }

    function fail(key) {
      document.getElementById(`${key}-status`).innerHTML = "❌ Error";
      document.getElementById(`${key}-status`).className = "bad";
      statuses[key] = false;
    }

    function updateScore() {
      const trueCount = Object.values(statuses).filter(v => v).length;
      const score = Math.round((trueCount / 4) * 100);
      document.getElementById("seo-score").textContent = `SEO Health Score: ${score}%`;

      // Update chart
      seoData.labels.push(new Date().toLocaleTimeString());
      seoData.datasets[0].data.push(score);
      seoChart.update();

      // Update timestamp
      document.getElementById("lastUpdate").textContent = `Last checked: ${new Date().toLocaleString()}`;
    }

    const ctx = document.getElementById("seoChart").getContext("2d");
    const seoData = {
      labels: [],
      datasets: [{
        label: "SEO Health Score",
        borderColor: "#00b7ff",
        backgroundColor: "rgba(0,183,255,0.2)",
        data: [],
        fill: true,
        tension: 0.3
      }]
    };
    const seoChart = new Chart(ctx, {
      type: "line",
      data: seoData,
      options: {
        responsive: true,
        scales: {
          y: { min: 0, max: 100, ticks: { color: "#8b949e" } },
          x: { ticks: { color: "#8b949e" } }
        },
        plugins: {
          legend: { labels: { color: "#00b7ff" } }
        }
      }
    });

    checkSEO();
    setInterval(checkSEO, 86400000); // Auto-refresh every 24 hours
  </script>
</body>
</html>