<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CloudAI SEO Monitor v4 | SRJahir Technologies ‚ö°</title>

  <!-- Meta -->
  <meta name="description" content="CloudAI SEO Monitor by SRJahir Technologies ‚Äî Track sitemap, robots, and IndexNow ping status with live performance chart.">
  <meta name="author" content="SRJ (Suraj Maitra) ‚Äî SRJahir Technologies">
  <meta name="robots" content="index, follow">

  <!-- Theme -->
  <style>
    :root {
      --bg: #0d1117;
      --panel: #161b22;
      --text: #e6edf3;
      --accent: #00b7ff;
      --muted: #8b949e;
      --success: #00ff9c;
      --error: #ff4d4d;
    }

    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: "Inter", sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }

    h1 {
      color: var(--accent);
      text-align: center;
      margin-bottom: 10px;
      font-weight: 600;
    }

    .status-container {
      background: var(--panel);
      padding: 20px;
      border-radius: 14px;
      width: 100%;
      max-width: 650px;
      box-shadow: 0 0 15px rgba(0,183,255,0.25);
      margin-bottom: 25px;
    }

    .status-item {
      display: flex;
      justify-content: space-between;
      margin: 8px 0;
      border-bottom: 1px solid #222;
      padding-bottom: 6px;
    }

    .status-item span {
      font-weight: 500;
    }

    .ok { color: var(--success); }
    .bad { color: var(--error); }

    .score {
      text-align: center;
      font-size: 20px;
      margin-top: 10px;
      color: var(--accent);
      font-weight: bold;
    }

    .chart-container {
      width: 100%;
      max-width: 750px;
      background: var(--panel);
      border-radius: 14px;
      padding: 15px;
      margin-top: 20px;
      box-shadow: 0 0 10px rgba(0,183,255,0.2);
    }

    .timestamp {
      font-size: 13px;
      color: var(--muted);
      margin-top: 10px;
      text-align: center;
    }

    .log-box {
      background: #11161d;
      border-radius: 10px;
      padding: 15px;
      width: 100%;
      max-width: 650px;
      margin-top: 20px;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.6;
    }

    footer {
      text-align: center;
      margin-top: 25px;
      font-size: 13px;
      color: var(--muted);
    }

    .refresh-btn {
      background: linear-gradient(135deg, #0078ff, #00c3ff);
      border: none;
      color: white;
      font-weight: 600;
      padding: 10px 18px;
      border-radius: 10px;
      cursor: pointer;
      margin-top: 15px;
      transition: 0.2s;
    }

    .refresh-btn:hover {
      transform: scale(1.05);
      background: linear-gradient(135deg, #009eff, #00d2ff);
    }
  </style>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

  <h1>‚ö° CloudAI SEO Monitor v4</h1>

  <div class="status-container" id="statusBox">
    <div class="status-item"><span>Sitemap:</span> <strong id="sitemap-status">‚è≥ Checking...</strong></div>
    <div class="status-item"><span>Robots.txt:</span> <strong id="robots-status">‚è≥ Checking...</strong></div>
    <div class="status-item"><span>Meta Tags:</span> <strong id="meta-status">‚è≥ Checking...</strong></div>
    <div class="status-item"><span>IndexNow Ping:</span> <strong id="indexnow-status">‚è≥ Checking...</strong></div>
    <div class="score" id="seo-score">SEO Health Score: --%</div>
  </div>

  <button class="refresh-btn" onclick="checkSEO(true)">‚ö° Refresh Now</button>

  <!-- Charts -->
  <div class="chart-container">
    <canvas id="seoChart" height="200"></canvas>
  </div>

  <div class="chart-container">
    <canvas id="pingChart" height="200"></canvas>
  </div>

  <!-- Logs -->
  <div class="log-box" id="pingLog">üì° Waiting for ping data...</div>

  <div class="timestamp" id="lastUpdate">Last checked: --</div>

  <footer>¬© 2025 SRJahir Technologies ‚Äî CloudAI SEO Monitor v4 by SRJ</footer>

  <script>
    const endpoints = {
      sitemap: "https://cloudai.srjahir.in/sitemap.xml",
      robots: "https://cloudai.srjahir.in/robots.txt",
      indexnow: "https://api.indexnow.org/indexnow?url=https://cloudai.srjahir.in/&key=da18c5cb-26d0-4045-bd3c-8cd139ba2d1d"
    };

    const statuses = { sitemap: false, robots: false, meta: false, indexnow: false };
    const pingHistory = [];

    async function checkSEO(manual = false) {
      document.getElementById("pingLog").innerHTML += `<br>üîÑ ${manual ? "Manual" : "Auto"} check started at ${new Date().toLocaleTimeString()}`;

      // Sitemap
      try {
        const sitemap = await fetch(endpoints.sitemap);
        statuses.sitemap = sitemap.ok;
        updateStatus("sitemap", sitemap.ok);
      } catch { fail("sitemap"); }

      // Robots.txt
      try {
        const robots = await fetch(endpoints.robots);
        statuses.robots = robots.ok;
        updateStatus("robots", robots.ok);
      } catch { fail("robots"); }

      // Meta
      const meta = document.querySelector("meta[name='description']");
      statuses.meta = !!meta;
      updateStatus("meta", !!meta);

      // IndexNow
      try {
        const indexRes = await fetch(endpoints.indexnow);
        statuses.indexnow = indexRes.ok;
        updateStatus("indexnow", indexRes.ok);
      } catch { fail("indexnow"); }

      updateScore();
    }

    function updateStatus(key, ok) {
      const el = document.getElementById(`${key}-status`);
      el.innerHTML = ok ? "‚úÖ OK" : "‚ùå Error";
      el.className = ok ? "ok" : "bad";
    }

    function fail(key) {
      document.getElementById(`${key}-status`).innerHTML = "‚ùå Failed";
      document.getElementById(`${key}-status`).className = "bad";
      statuses[key] = false;
    }

    function updateScore() {
      const trueCount = Object.values(statuses).filter(v => v).length;
      const score = Math.round((trueCount / 4) * 100);
      document.getElementById("seo-score").textContent = `SEO Health Score: ${score}%`;

      // SEO Score Chart update
      seoData.labels.push(new Date().toLocaleTimeString());
      seoData.datasets[0].data.push(score);
      seoChart.update();

      // Ping Chart update
      const pingData = { time: new Date().toLocaleTimeString(), success: trueCount, total: 4 };
      pingHistory.push(pingData);
      pingChart.data.labels.push(pingData.time);
      pingChart.data.datasets[0].data.push(pingData.success);
      pingChart.update();

      // Log update
      document.getElementById("pingLog").innerHTML += `<br>‚úÖ Ping success ${trueCount}/4 (${score}%)`;
      document.getElementById("lastUpdate").textContent = `Last checked: ${new Date().toLocaleString()}`;
    }

    // SEO Score Line Chart
    const seoCtx = document.getElementById("seoChart").getContext("2d");
    const seoData = {
      labels: [],
      datasets: [{
        label: "SEO Health (%)",
        borderColor: "#00b7ff",
        backgroundColor: "rgba(0,183,255,0.2)",
        data: [],
        fill: true,
        tension: 0.3
      }]
    };
    const seoChart = new Chart(seoCtx, { type: "line", data: seoData });

    // Ping Activity Bar Chart
    const pingCtx = document.getElementById("pingChart").getContext("2d");
    const pingChart = new Chart(pingCtx, {
      type: "bar",
      data: {
        labels: [],
        datasets: [{
          label: "Successful Checks",
          data: [],
          backgroundColor: "rgba(0,255,150,0.6)",
          borderColor: "#00ff9c",
          borderWidth: 1
        }]
      },
      options: {
        scales: {
          y: { min: 0, max: 4, ticks: { color: "#8b949e" } },
          x: { ticks: { color: "#8b949e" } }
        },
        plugins: { legend: { labels: { color: "#00b7ff" } } }
      }
    });

    checkSEO();
    setInterval(checkSEO, 86400000); // every 24 hours
  </script>
</body>
</html>